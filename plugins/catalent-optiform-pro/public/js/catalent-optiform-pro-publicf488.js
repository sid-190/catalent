(function() {
  var pluginUrl = locatePluginPublicFolder.url;
  window.solution_array = [
    {
      name: "RPScherer Softgel Lipid Solution",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/icon_013.png",
      text: "A lipid based formulation with the drug dissolved in the fill, encapsulated in a softgel.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/softgel"
    }, {
      name: "RPScherer Softgel Lipid Suspension with Micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/icon_013.png",
      text: "A lipid based formulation with the drug suspended in the fill, encapsulated in a softgel.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/softgel"
    }, {
      name: "RPScherer Softgel Lipid Suspension with nano-milled API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/icon_013.png",
      text: "A lipid based formulation with nano-milled drug suspended in the fill, encapsulated in a softgel.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/softgel"
    }, {
      name: "RPScherer Softgel polar solvents",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/icon_013.png",
      text: "A PEG based formulation with the drug dissolved in the fill, encapsulated in a softgel.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/softgel"
    }, {
      name: "RPScherer Softgel Optigel Bio",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/icon_013.png",
      text: "A patented lipid based formulation designed for macromolecules, encapsulated in an enteric coated softgel.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/softgel"
    }, {
      name: "RPScherer Softgel Optigel Micro (multiparticulate in stick-pack)",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/icon_013.png",
      text: "A patented lipid based formulation designed for macromolecules, encapsulated in an enteric coated softgel.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/softgel"
    }, {
      name: "Powder in Capsule",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsules containing powdered API or blends of API and excipients.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "Dry Blend / Tablet",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "A tablet made from a blend of dry ingredients.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Dry Blend / Tablet with micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "A tablet made from a blend of dry ingredients including micronized API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Dry Blend / Capsule",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsule filled with a blend of dry ingredients.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "Dry Blend / Capsule with micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsule fill with a blend of dry ingredients including micronized API.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "Wet Granulation / Tablet",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "A tablet made with blend from a wet granulation process.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Wet Granulation / Tablet with micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "A tablet made with blend from a wet granulation process including micronized API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Wet Granulation / Capsule",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsule filled with a blend from a wet granulation process.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "Wet Granulation / Capsule with micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsule filled with a blend from a wet granulation process including micronized API.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "Optipact / Tablet",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "A tablet made from a blend made by roller compaction.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Optipact / Tablet with micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "A tablet made from a blend made by roller compaction including micronized API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Optipact / Capsule",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsule filled with a blend made by roller compaction.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "Optipact / Capsule with micronized API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/capsules_icon.png",
      text: "A two piece capsule filled with a blend made by roller compaction.",
      link: "http://www.catalent.com/supply/manufacturing/Tablets-Capsules"
    }, {
      name: "OptiMeltâ„¢ technology / Tablet",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/OptiMelt_icon.png",
      text: "A tablet made from a solid dispersion made via twin screw extrusion.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/OptiMelt-R-hot-melt-extrusion"
    }, {
      name: "OptiMeltâ„¢ technology / Capsule",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: "..images/solution-finder/OptiMelt_icon.png",
      text: "A two piece capsule made from a solid dispersion made via twin screw extrusion.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/OptiMelt-R-hot-melt-extrusion"
    }, {
      name: "Spray coated Multiparticulate in Tablet/Capsule/StickPack",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/OptiMelt_icon.png",
      text: "a Tablet or two piece capsule or sachet made or filled with layered particulates and crystalline API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/OptiMelt-R-hot-melt-extrusion"
    }, {
      name: "Sprayed Coated Multiparticulate in Tablet/ Capsule/ StickPack with am. API",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/OptiMelt_icon.png",
      text: "a Tablet or two piece capsule or sachet made or filled with layered particulates and amorphous API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/OptiMelt-R-hot-melt-extrusion"
    }, {
      name: "Wet Granulation in StickPack",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/OptiMelt_icon.png",
      text: "A sachet filled with a blend made by wet granulation process.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/OptiMelt-R-hot-melt-extrusion"
    }, {
      name: "Mini Tablets",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/tablets_icon.png",
      text: "tablets created from compaction that are smaller than average sized.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/tablets"
    }, {
      name: "Zydis Micron",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/Zydis_icon.png",
      text: "lyophilized wafer orally disintegrating tablets including micronized API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/zydis"
    }, {
      name: "Zydis Bio",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/Zydis_icon.png",
      text: "lyophilized wafer orally disintegrating tablets for buccal absorption.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/zydis"
    }, {
      name: "Zydis nano",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/Zydis_icon.png",
      text: "lyophilized wafer orally disintegrating tablets including nano milled API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/zydis"
    }, {
      name: "Zydis Ultra",
      number_of_1s: 0,
      number_of_2s: 0,
      number_of_3s: 0,
      number_of_4s: 0,
      onesAdjust: 0,
      threeFlag80: 0,
      fourFlag: 0,
      dcs_Score: 0,
      tech_Score: 0,
      final_Score: 0,
      icon: pluginUrl+"images/Zydis_icon.png",
      text: "lyophilized wafer orally disintegrating tablets including coated / taste masked API.",
      link: "http://www.catalent.com/offerings/A-Z-Offerings/zydis"
    }
  ];

  window.solution_points = [
    {
      "question": "question_chewable",
      "choices": [[2, 2, 2, 3, 4, 3, 3, 1, 1, 3, 3, 1, 1, 3, 3, 1, 1, 3, 3, 1, 3, 3, 3, 3, 3, 1, 1, 1, 1]]
    }, {
      "question": "question_vaginal",
      "choices": [[1, 1, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]]
    }, {
      "question": "question_Fast",
      "choices": [[1, 2, 2, 1, 3, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 1, 1, 1, 2]]
    }, {
      "question": "question_CR",
      "choices": [[2, 2, 3, 3, 2, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 3, 1, 3, 3, 3, 1]]
    }, {
      "question": "question_DR",
      "choices": [[2, 2, 2, 2, 2, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 4, 4, 4, 1]]
    }, {
      "question": "question_Combination",
      "choices": [[3, 3, 3, 2, 3, 4, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3]]
    }, {
      "question": "question_Pediatric",
      "choices": [[3, 3, 3, 3, 3, 2, 4, 3, 3, 4, 4, 3, 3, 4, 4, 3, 3, 4, 4, 3, 4, 1, 1, 2, 1, 1, 1, 1, 1]]
    }, {
      "question": "question_PartCoeff",
      "choices": [[4, 3, 3, 1, 1, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2, 1, 1], [1, 2, 2, 4, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3]]
    }, {
      "question": "question_Macro",
      "choices": [[4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4]]
    }, {
      "question": "question_Melting",
      "choices": [[1, 1, 1, 1, 1, 3, 2, 3, 3, 2, 3, 3, 3, 2, 3, 3, 3, 2, 3, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3]]
    }, {
      "question": "question_PhState",
      "choices": [[2, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 4, 3, 4, 4], [3, 3, 3, 3, 3, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2], [1, 4, 4, 4, 1, 1, 4, 3, 3, 3, 3, 3, 3, 2, 2, 3, 3, 2, 2, 2, 2, 4, 4, 4, 2, 4, 4, 4, 4]]
    }, {
      "question": "question_MolecStab",
      "choices": [[3, 3, 3, 4, 3, 3, 1, 1, 1, 1, 1, 3, 3, 3, 3, 2, 2, 2, 2, 1, 1, 3, 3, 3, 2, 4, 4, 4, 2], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 2, 2, 2, 2, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 4, 2, 4, 1], [3, 4, 4, 4, 1, 3, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 3, 3, 3, 3, 4, 1, 4, 2]]
    }, {
      "question": "question_Aldehyde",
      "choices": [[1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]
    }, {
      "question": "question_Cytotoxic",
      "choices": [[1, 1, 4, 1, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]]
    }, {
      "question": "question_Potency",
      "choices": [[1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3]]
    }, {
      "question": "question_DosePerUnit",
      "choices": [[1, 4, 3, 1, 1, 1, 2, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 2, 2, 3, 3, 3, 3, 3, 3], [1, 3, 2, 1, 1, 1, 2, 3, 3, 3, 3, 2, 2, 2, 2, 4, 3, 4, 3, 4, 4, 1, 1, 2, 3, 2, 2, 2, 2], [4, 3, 3, 4, 4, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3], [4, 4, 4, 4, 4, 4, 1, 1, 1, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2, 1, 1, 3, 3, 3, 4, 4, 4, 4, 4]]
    }, {
      "question": "question_PoorFlow",
      "choices": [[1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 3]]
    }
  ];

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $dev_form, $dose, $getBackToScreenIntro, $getToPage2, $page1, $page2, $peff, $screenIntro, $solubility, goNextPage, isEmpty, isNumeric;
    $getBackToScreenIntro = $('.page1-back');
    $getToPage2 = $('#page1-next');
    $screenIntro = $('#screen-intro');
    $page1 = $('#page1');
    $page2 = $('#page2');
    $dev_form = $('.dev_form');
    $peff = $('.peff');
    $solubility = $('.solubility');
    $dose = $('.dose');
    isEmpty = function(value) {
      return value === null || value === "" || typeof value === "undefined";
    };
    isNumeric = function(n) {
      return !isNaN(n);
    };
    goNextPage = function() {
      return window.goTo($page2);
    };
    $getBackToScreenIntro.on('click', function(e) {
      return window.goTo($screenIntro);
    });
    return $getToPage2.on('click', function(e) {
      var dose, error, peff, solubility;
      e.preventDefault();
      $dev_form.find('.error').hide();
      error = 0;
      peff = $peff.find('input').val();
      solubility = $solubility.find('input').val();
      dose = $dose.find('input').val();
      if (!isEmpty(peff)) {
        if (peff.length > 0 && (!isNumeric(peff) || peff < 0.1 || peff > 30)) {
          $peff.children('.error').fadeIn();
          $peff.children('.error').css("display", "block");
          $peff.children('.error').css("color", "red");
          error++;
        }
      }
      if (!isEmpty(solubility)) {
        if (solubility.length > 0 && (!isNumeric(solubility) || solubility < 0 || solubility > 1000000)) {
          $solubility.children('.error').fadeIn();
          $solubility.children('.error').css("display", "block");
          $solubility.children('.error').css("color", "red");
          error++;
        }
      }
      if (!isEmpty(dose)) {
        if (dose.length > 0 && (!isNumeric(dose) || dose < 0 || dose > 1000000)) {
          $dose.children('.error').fadeIn();
          $dose.children('.error').css("display", "block");
          $dose.children('.error').css("color", "red");
          error++;
        }
      }
      if (!((isEmpty(peff) && isEmpty(solubility) && isEmpty(dose)) || (!isEmpty(peff) && !isEmpty(solubility) && !isEmpty(dose)))) {
        error++;
      }
      if (!error) {
        return goNextPage();
      }
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $getBackToPage1, $getToPage3, $page1, $page2, $page3;
    $getBackToPage1 = $('.page2-back');
    $getToPage3 = $('#page2-next');
    $page1 = $('#page1');
    $page2 = $('#page2');
    $page3 = $('#page3');
    $getBackToPage1.on('click', function(e) {
      return window.goTo($page1);
    });
    return $getToPage3.on('click', function(e) {
      var error;
      error = 0;
      $page2.find('.choices-row').each(function() {
        var selected;
        selected = $(this).find('.selected').length;
        if (!selected) {
            $(this).parent().parent().css("color", "red");
          return error++;
        }else{
            $(this).parent().parent().css("color", "black");
        }
      });
      if (error === 0) {
        return window.goTo($page3);
      }
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $getBackToPage2, $getToPage4, $page2, $page3, $page4;
    $getBackToPage2 = $('.page3-back');
    $getToPage4 = $('#page3-next');
    $page2 = $('#page2');
    $page3 = $('#page3');
    $page4 = $('#page4');
    $getBackToPage2.on('click', function(e) {
      return window.goTo($page2);
    });
    return $getToPage4.on('click', function(e) {
      var error;
      error = 0;
      $page3.find('.choices-row').each(function() {
        var selected;
        selected = $(this).find('.selected').length;
        if (!selected) {
          $(this).parent().parent().css("color", "red");
          return error++;
        }else{
          $(this).parent().parent().css("color", "black");
        }
      });
      if (error === 0) {
        return window.goTo($page4);
      }
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $getBackToPage3, $getToPage5, $page3, $page4, $page5;
    $getBackToPage3 = $('.page4-back');
    $getToPage5 = $('#page4-next');
    $page3 = $('#page3');
    $page4 = $('#page4');
    $page5 = $('#page5');
    $getBackToPage3.on('click', function(e) {
      return window.goTo($page3);
    });
    return $getToPage5.on('click', function(e) {
      var error;
      error = 0;
      $page4.find('.choices-row').each(function() {
        var selected;
        selected = $(this).find('.selected').length;
        if (!selected) {
          $(this).parent().parent().css("color", "red");
          return error++;
        }else{
          $(this).parent().parent().css("color", "black");
        }
      });
      if (error === 0) {
        return window.goTo($page5);
      }
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $getBackToPage4, $getToPage6, $page4, $page5, $page6;
    $getBackToPage4 = $('.page5-back');
    $getToPage6 = $('#page5-next');
    $page4 = $('#page4');
    $page5 = $('#page5');
    $page6 = $('#page6');
    $getBackToPage4.on('click', function(e) {
      return window.goTo($page4);
    });
    return $getToPage6.on('click', function(e) {
      var error;
      error = 0;
      $page5.find('.choices-row').each(function() {
        var selected;
        selected = $(this).find('.selected').length;
        if (!selected) {
          $(this).parent().parent().css("color", "red");
          return error++;
        }else{
          $(this).parent().parent().css("color", "black");
        }
        if ( $(this).attr('question') == 'question_DosePerUnit'){
          var valid = 0;
          $(this).find('.selected').each(function( index ) {
            if (typeof $(this).attr('answer_ref') === "undefined"){
              valid = valid + 2;
            } else {
              valid++;
            }
          })
          if (valid < 2){
            $(this).parent().parent().css("color", "red");
            return error++;
          }else{
            $(this).parent().parent().css("color", "black");
          }
        }
      });
      if (error === 0) {
        return window.goTo($page6);
      }
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $company, $email, $email_bis, $getBackToPage5, $molecule, $name, $area_of_interest, $page1, $page2, $page3, $page4, $page5, $page6, $registration_form, $result, $submit, $telephone, checkInput, isEmail, isEmpty, makeReport, submit;
    $getBackToPage5 = $('.page6-back');
    $page1 = $('#page1');
    $page2 = $('#page2');
    $page3 = $('#page3');
    $page4 = $('#page4');
    $page5 = $('#page5');
    $page6 = $('#page6');
    $registration_form = $('#contact');
    $result = $('#result');
    $name = $('.name');
    $company = $('.company');
    $email = $(".email");
    $email_bis = $('.email_bis');
    $telephone = $('.telephone');
    $molecule = $('.molecule');
    $area_of_interest = $('.area_of_interest');
    $submit = $('.result_button');
    isEmpty = function(value) {
      return value === null || value === "" || typeof value === "undefined";
    };
    isEmail = function(value) {
      var re;
      re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(value);
    };
    makeReport = function() {
      var $page, answers, inputs, page_nb, result, selections;
      result = [];
      page_nb = 1;
      while (page_nb < 7) {
        $page = $("#page" + page_nb);
        if (page_nb === 1) {
          inputs = $page.find('input');
          answers = [];
          $.each(inputs, function(index, value) {
            var answer, question_line, selected_question_attribute;
            question_line = inputs[index];
            selected_question_attribute = $(question_line).attr('question');
            answer = {};
            answer['answer'] = question_line.value;
            answer['question_attribute'] = selected_question_attribute;
            return answers.push(answer);
          });
          result.push(answers);
        } else if (page_nb === 6) {
          inputs = $page6.find('input, select');
          answers = [];
          $.each(inputs, function(index, value) {
            var answer;
            if (($(this).attr('type') !== 'submit') && ($(this).attr('type') !== 'checkbox' || $(this).prop('checked')) ) {
              answer = {};
              answer[$(this).attr('name')] = $(this).val();
              return answers.push(answer);
            }
          });
          result.push(answers);
        } else {
          selections = $page.find('.selected');
          answers = [];
          $.each(selections, function(index, value) {
            var answer, answer_ref, question_line, selected_question_attribute;
            question_line = $page.find('.selected')[index];
            selected_question_attribute = $(question_line).parent().attr('question');
            answer_ref = $(this).attr('answer_ref');
            answer = {};
            answer['answer'] = question_line.innerText;
            answer['answer_ref'] = answer_ref || 'undefined';
            answer['question_attribute'] = selected_question_attribute;
            return answers.push(answer);
          });
          result.push(answers);
        }
        page_nb++;
      }
      return result;
    };
    checkInput = function($field, error_count) {
      if (($field === $name) && isEmpty($field.find('#firstname').val())) {
        $field.find('.firstname_error').fadeIn();
        $field.find('.name_error').css({
          "display": "block"
        });
        $field.find('.firstname_error').css({
          "color": "red"
        });
        $field.find('#firstname').css({
          "border": "solid red 2px"
        });
        error_count++;
      }
      if (($field === $name) && isEmpty($field.find('#lastname').val())) {
        $field.find('.lastname_error').fadeIn();
        $field.find('.name_error').css({
          "display": "block"
        });
        $field.find('.lastname_error').css({
          "color": "red"
        });
        $field.find('#lastname').css({
          "border": "solid red 2px"
        });
        error_count++;
      } else if (($field === $email) && (!isEmail($field.find('input').val()))) {
        $field.children('.error-1').fadeIn();
        $field.children('.error-1').css({
          "display": "block"
        });
        $field.children('.error-1').css({
          "color": "red"
        });
        $field.find('input').css({
          "border": "solid red 2px"
        });
        error_count++;
      } else if (($field === $email_bis) && isEmpty($field.find('input').val())) {
        $field.children('.error-1').fadeIn();
        $field.children('.error-1').css({
          "display": "block"
        });
        $field.children('.error-1').css({
          "color": "red"
        });
        $field.find('input').css({
          "border": "solid red 2px"
        });
        error_count++;
      } else if (($field === $email_bis) && $field.find('input').val() !== $email.find('input').val()) {
        $email_bis.children('.error-2').fadeIn();
        $field.children('.error-2').css({
          "display": "block"
        });
        $field.children('.error-2').css({
          "color": "red"
        });
        $field.find('input').css({
          "border": "solid red 2px"
        });
        error_count++;
      } else if (($field === $company) && isEmpty($field.find('input').val())) {
        $field.children('.error').fadeIn();
        $field.children('.error').css({
          "color": "red"
        });
        $field.children('.error').css({
          "display": "block"
        });
        $field.find('input').css({
          "border": "solid red 2px"
        });
	$telephone.children('.error-2').fadeIn();
	$telephone.children('.error-2').css({"display": "block"});
        error_count++;
      } else if (($field === $area_of_interest) && isEmpty($field.find('select').val())) {
        $field.children('.error').fadeIn();
        $field.children('.error').css({
          "color": "red"
        });
        $field.children('.error').css({
          "display": "block"
        });
        $field.find('input').css({
          "border": "solid red 2px"
        });
        error_count++;
      }
      return error_count;
    };
    submit = function(e) {
      var ajax, ajax_result, error, info, json_result, result;
      $registration_form.find('.error').hide();
      $registration_form.find('.firstname_error').hide();
      $registration_form.find('.lastname_error').hide();
      $registration_form.find('.error-1').hide();
      $registration_form.find('.error-2').hide();
      $registration_form.find('input').css({
        "border": "solid #A9A9A9 1px"
      });
      error = 0;
      error = checkInput($name, error);
      error = checkInput($company, error);
      error = checkInput($email, error);
      error = checkInput($email_bis, error);
      error = checkInput($area_of_interest, error);
      if (!error) {
        $page1.find('input').each(function() {
          if (!isEmpty($(this))) {
            return $(this).addClass('selected');
          }
        });
        result = makeReport();
        json_result = JSON.stringify(result);
        if (/^(.*\.)?catalent.(.*\.)?com/.test( location.hostname ) ) {
          info = result.pop();
          var wpnonce = $('#_wpnonce').val();
          ajax_result = {
            first_name: info[0].firstname,
            last_name: info[1].lastname,
            company: info[2].company,
            email: info[4].email,
            phone: info[3].telephone,
            molecule_name: info[6].molecule,
            area_of_interest: info[7].areaofinterest,
	    subscribe: info[8].subscribe,
            json_data: json_result,
            wpnonce: wpnonce,
            action : 'optiformpro',
	    url : window.location.href
          };
          $submit.attr('disabled', 'disabled');
          ajax = $.ajax({
            url: 'https://' + location.hostname + '/wp-admin/admin-ajax.php',
            type: "POST",
            dataType: 'text',
            data: ajax_result
          });
          ajax.done(function(msg) {
            window.location.href = msg;
            return $submit.removeAttr('disabled');
          });
          return ajax.error(function(jqXHR, textStatus) {
            $page6.find('.error-submit').text(jqXHR.statusText);
            $page6.find('.error-submit').fadeIn();
            return $submit.removeAttr('disabled');
          });
        } else {
          return $page6.find('.json_result').text(json_result);
        }
      }
    };
    $submit.on('click', function(e) {
      e.preventDefault();
      return submit();
    });
    return $getBackToPage5.on('click', function(e) {
      return window.goTo($page5);
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $closeSummary, $contact, $getBackToPage6, $page6, $result, addOtherAnswersToSameQuestion, convertDCSClassName, countNumberOfOtherAnswers, dose, dosePerUnit_done, drawGraph, fillOneCell, fillReportresult_tables, getNumberOfDontKnow, getX, getY, json_result, molecStab_done, movepic, peff, s;
    if (!window.json_result) {
      return;
    }
    $getBackToPage6 = $('#result-back');
    $page6 = $('#page6');
    $result = $('#result');
    $contact = $('.nav-button');
    $closeSummary = $('#close_summary');
    molecStab_done = false;
    dosePerUnit_done = false;
    movepic = function($image, img_src) {
      $image.attr('src', img_src);
    };
    countNumberOfOtherAnswers = function(json_result, table_index, answer_index, question_attribute, json_index) {
      var count, index;
      count = 0;
      index = 0;
      while (json_index + index < json_result[table_index].length) {
        if (json_result[table_index][json_index + index].question_attribute === question_attribute) {
          index++;
          count++;
        } else {
          return count;
        }
      }
    };
    addOtherAnswersToSameQuestion = function($cell, json_result, table_index, answer_index, question_attribute, json_index) {
      var count, index, text;
      count = countNumberOfOtherAnswers(json_result, table_index, answer_index, question_attribute, json_index);
      text = $cell.text();
      index = 0;
      while (index < count) {
        text += ';';
        text += json_result[table_index][json_index + index].answer;
        index++;
      }
      $cell.text(text);
      return count;
    };
    fillOneCell = function($cell, json_result, table_index, answer_index, json_index) {
      var count;
      if (table_index === 0) {
        $cell.text(json_result[table_index][json_index].answer + ' ' + $cell.attr('unit'));
      } else {
        $cell.text(json_result[table_index][json_index].answer);
      }
      json_index++;
      if (json_index < json_result[table_index].length && json_result[table_index][json_index].question_attribute === json_result[table_index][json_index - 1].question_attribute) {
        if (json_result[table_index][json_index].question_attribute === 'question_MolecStab') {
          if (!molecStab_done) {
            count = addOtherAnswersToSameQuestion($cell, json_result, table_index, answer_index, 'question_MolecStab', json_index);
            json_index += count;
            molecStab_done = true;
            return json_index;
          }
        }
        if (json_result[table_index][json_index].question_attribute === 'question_DosePerUnit') {
          if (!dosePerUnit_done) {
            count = addOtherAnswersToSameQuestion($cell, json_result, table_index, answer_index, 'question_DosePerUnit', json_index);
            json_index += count;
            dosePerUnit_done = true;
            return json_index;
          }
        }
      }
      return json_index;
    };
    fillReportresult_tables = function(json_result) {
      return $.each($('#result').find('.result_table'), function(table_index, value) {
        var json_index;
        json_index = 0;
        return $.each($(this).find('.answer_in_table'), function(answer_index, value) {
          if (table_index < json_result.length) {
            if (json_index < json_result[table_index].length) {
              if (!(json_result[table_index][json_index].question_attribute === 'question_MolecStab' && molecStab_done || json_result[table_index][json_index].question_attribute === 'question_DosePerUnit' && dosePerUnit_done)) {
                return json_index = fillOneCell($(this), json_result, table_index, answer_index, json_index);
              }
            }
          }
        });
      });
    };
    getNumberOfDontKnow = function(json_result) {
      var count, item_index, table_index;
      count = 0;
      table_index = 0;
      while (table_index < json_result.length) {
        item_index = 0;
        while (item_index < json_result[table_index].length) {
          if (json_result[table_index][item_index].answer === "Don't know") {
            count++;
          }
          item_index++;
        }
        table_index++;
      }
      return count;
    };
    $('.accordion').find(".accordion-toggle,.accordion-bottom-toggle").click(function() {
      var $image;
      $(this).next().slideToggle('fast');
      $image = $(this).find(".accordion-image-plus, .accordion-image-minus");
      var pluginUrl = locatePluginPublicFolder.url;
      if ($image.hasClass('collapsed')) {
        movepic($image, pluginUrl+"images/minus.png");
        $image.removeClass('collapsed').addClass('expanded');
        $image.removeClass('accordion-image-plus').addClass('accordion-image-minus');
      } else {
        movepic($image, pluginUrl+"images/plus.png");
        $image.removeClass('expanded').addClass('collapsed');
        $image.removeClass('accordion-image-minus').addClass('accordion-image-plus');
      }
    });
    $closeSummary.on('click', function(e) {
      var $image;
      $(this).parent().slideToggle('fast');
      $image = $(result).find('#top_accordion');
      var pluginUrl = locatePluginPublicFolder.url;
      movepic($image, pluginUrl+"images/plus.png");
      $image.removeClass('expanded').addClass('collapsed');
      return $image.removeClass('accordion-image-minus').addClass('accordion-image-plus');
    });
    getY = function($star, peff, dosebys, height, positions_Y_axis) {
      var precision, step, steps, y, yUnit;
      y = 0;
      yUnit = 0;
      step = 0;
      precision = 0.1;
      steps = {
        '-': {
          base: 0,
          max: 0,
          yUnit: positions_Y_axis.position_0
        },
        '0': {
          base: positions_Y_axis.position_0,
          max: 0,
          yUnit: (positions_Y_axis.position_0p1 - positions_Y_axis.position_0) * precision / (0.1 - 0)
        },
        '0.1': {
          base: positions_Y_axis.position_0p1,
          max: 0.1,
          yUnit: (positions_Y_axis.position_1 - positions_Y_axis.position_0p1) * precision / (1 - 0.1)
        },
        '1': {
          base: positions_Y_axis.position_1,
          max: 1,
          yUnit: (positions_Y_axis.position_10 - positions_Y_axis.position_1) * precision / (10 - 1)
        },
        '+': {
          base: positions_Y_axis.position_10,
          max: 10,
          yUnit: 0
        }
      };
      if (peff <= 0) {
        step = steps['-'];
        return step.base + 2 - ($star.height() / 2) + (peff - step.max) / precision * step.yUnit;
      } else if (peff <= 0.1) {
        step = steps['0'];
        return step.base - (($star.height() - 18) / 2) + (peff - step.max) / precision * step.yUnit;
      } else if (peff <= 1) {
        step = steps['0.1'];
        return step.base - (($star.height() - 18) / 2) + (peff - step.max) / precision * step.yUnit;
      } else if (peff <= 10) {
        step = steps['1'];
        return step.base - (($star.height() - 18) / 2) + (peff - step.max) / precision * step.yUnit;
      } else {
        step = steps['+'];
        return step.base - (($star.height() - 18) / 2) + (peff - step.max) / precision * step.yUnit;
      }
    };
    getX = function($star, dosebys, width, positions_X_axis) {
      var precision, step, steps, x, xUnit;
      x = 0;
      xUnit = 0;
      step = 0;
      precision = 0.1;
      steps = {
        '-': {
          base: 0,
          max: 0,
          xUnit: positions_X_axis.position_0
        },
        '0': {
          base: positions_X_axis.position_0,
          max: 0,
          xUnit: (positions_X_axis.position_250 - positions_X_axis.position_0) * precision / (250 - 0)
        },
        '250': {
          base: positions_X_axis.position_250,
          max: 250,
          xUnit: (positions_X_axis.position_500 - positions_X_axis.position_250) * precision / (500 - 250)
        },
        '500': {
          base: positions_X_axis.position_500,
          max: 500,
          xUnit: (positions_X_axis.position_1000 - positions_X_axis.position_500) * precision / (1000 - 500)
        },
        '1000': {
          base: positions_X_axis.position_1000,
          max: 1000,
          xUnit: (positions_X_axis.position_5000 - positions_X_axis.position_1000) * precision / (5000 - 1000)
        },
        '5000': {
          base: positions_X_axis.position_5000,
          max: 5000,
          xUnit: (positions_X_axis.position_10000 - positions_X_axis.position_5000) * precision / (10000 - 5000)
        },
        '10000': {
          base: positions_X_axis.position_10000,
          max: 10000,
          xUnit: (positions_X_axis.position_100000 - positions_X_axis.position_10000) * precision / (100000 - 10000)
        },
        '+': {
          base: positions_X_axis.position_100000,
          max: 100000,
          xUnit: 0
        }
      };
      if (dosebys <= 0) {
        step = steps['-'];
        return step.base - ($star.width() / 2) + (dosebys - step.max) / precision * step.xUnit;
      } else if (dosebys <= 250) {
        step = steps['0'];
        return step.base + (dosebys - step.max) / precision * step.xUnit;
      } else if (dosebys <= 500) {
        step = steps['250'];
        return step.base + (dosebys - step.max) / precision * step.xUnit;
      } else if (dosebys <= 1000) {
        step = steps['500'];
        return step.base + (dosebys - step.max) / precision * step.xUnit;
      } else if (dosebys <= 5000) {
        step = steps['1000'];
        return step.base + (dosebys - step.max) / precision * step.xUnit;
      } else if (dosebys <= 10000) {
        step = steps['5000'];
        return step.base + (dosebys - step.max) / precision * step.xUnit;
      } else if (dosebys <= 100000) {
        step = steps['10000'];
        return step.base + (dosebys - step.max) / precision * step.xUnit;
      } else {
        step = steps['+'];
        return step.base - ($star.width() / 2) + (dosebys - step.max) / precision * step.xUnit;
      }
    };
    convertDCSClassName = function(className) {
      switch (className) {
        case 'I':
          className = '1';
          break;
        case 'IIa':
          className = '2a';
          break;
        case 'IIb':
          className = '2b';
          break;
        case 'III':
          className = '3';
          break;
        case 'IV':
          className = '4';
      }
      return className;
    };
    drawGraph = function() {
      var $container, $star, an, dcsClass, dcsClassText, dose, dosebys, height, peff, positions_X_axis, positions_Y_axis, s, slad, width;
      peff = window.json_result[0][0].answer;
      s = window.json_result[0][1].answer;
      dose = window.json_result[0][2].answer;
      if ($(window).width() < 768) {
        positions_X_axis = {
          position_0: -9,
          position_250: 60,
          position_500: 83,
          position_1000: 106,
          position_5000: 137,
          position_10000: 172,
          position_100000: 216
        };
        positions_Y_axis = {
          position_0: -6,
          position_0p1: 6,
          position_1: 81,
          position_10: 157
        };
      } else if ($(window).width() < 981) {
        positions_X_axis = {
          position_0: -9,
          position_250: 174,
          position_500: 201,
          position_1000: 230,
          position_5000: 309,
          position_10000: 347,
          position_100000: 476
        };
        positions_Y_axis = {
          position_0: -6,
          position_0p1: 3,
          position_1: 98,
          position_10: 191
        };
      } else {
        positions_X_axis = {
          position_0: -9,
          position_250: 207,
          position_500: 247,
          position_1000: 288,
          position_5000: 389,
          position_10000: 428,
          position_100000: 584
        };
        positions_Y_axis = {
          position_0: -7,
          position_0p1: 7,
          position_1: 121,
          position_10: 236
        };
      }
      dosebys = void 0;
      an = void 0;
      slad = void 0;
      dcsClass = void 0;
      if (peff && s && dose) {
        dosebys = dose / s;
        an = peff < 1 ? 1 : peff;
        slad = 500 * an * s;
        if (peff >= 1 && dose < slad && dosebys < 500) {
          dcsClass = 'I';
        } else if (peff >= 1 && dose < slad && dosebys >= 500) {
          dcsClass = 'IIa';
        } else if (peff >= 1 && dose >= slad && dosebys >= 500) {
          dcsClass = 'IIb';
        } else if (peff < 1 && dose < slad && dosebys < 500) {
          dcsClass = 'III';
        } else if (peff < 1 && dose >= slad && dosebys >= 500) {
          dcsClass = 'IV';
        }
        dcsClassText = convertDCSClassName(dcsClass);
        $('#dcsClassLevel').text(dcsClassText);
        $container = $('.graph');
        $star = $container.find('.star');
        width = $container.width();
        height = $container.height();
        $star.css('bottom', getY($star, peff, dosebys, height, positions_Y_axis) + 'px');
        $star.css('left', getX($star, dosebys, width, positions_X_axis) + 'px');
        if (dcsClass === 'IIa' || dcsClass === 'IIb') {
          $('.optiFormSolutionSuite').show();
        }
      }
    };
    peff = window.json_result[0][0].answer;
    s = window.json_result[0][1].answer;
    dose = window.json_result[0][2].answer;
    if (peff && s && dose) {
      $('#dcs').show();
      $('.graph-frame').show();
      drawGraph();
      $('#numberOfDontKnow').text(getNumberOfDontKnow(window.json_result));
    } else {
      $('#dcs').hide();
    }
    window.calculateSolutions();
    json_result = window.json_result;
    return json_result = fillReportresult_tables(json_result);
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $container, $getStartedButton, $page1, $screenIntro;
    $container = $('.step#screen-intro');
    $getStartedButton = $('.get-started');
    $screenIntro = $('#screen-intro');
    $page1 = $('#page1');
    return $getStartedButton.on('click', function(e) {
      return window.goTo($page1);
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  $(document).ready(function() {
    var $choices, $currentPage, $editBoxes, $resetButton;
    $currentPage = $('#screen-intro');
    window.goTo = function($to) {
      $currentPage.hide();
      $to.show();
      $('.main-content').animate({
        scrollTop: 0
      });
      return $currentPage = $to;
    };
    $('.popup').on('click', function() {
      var $content, $overlay, anchor;
      anchor = $(this).attr('href');
      $overlay = $('#overlay');
      $content = $(anchor);
      if (!$overlay.length) {
        $overlay = $('<div id="overlay"><div class="popupclose">X</div><div class="popupcontent"></div></div>').appendTo('.catalent');
        $overlay.find('.popupclose').on('click', function() {
          return $overlay.hide();
        });
      }
      $overlay.find('.popupcontent').html($content.html());
      return $overlay.show();
    });
    $resetButton = $('.reset');
    $choices = $('.choices-row .choice');
    $editBoxes = $('.input');
    $resetButton.on('click', function(e) {
      $choices.removeClass('selected');
      $editBoxes.val('');
      return window.goTo($('#screen-intro'));
    });
    return $choices.on('click', function(e) {
      var $choice, $row, max_selection, number_selected;
      $choice = $(this);
      $row = $choice.parents('.choices-row');
      number_selected = $row.find('.selected').size();
      max_selection = 1;
      if ($row.attr('question') === 'question_DosePerUnit') {
        max_selection = 2;
      }
      if ($row.attr('question') === 'question_MolecStab') {
        max_selection = 7;
      }
      if (max_selection === 1 && !$(this).hasClass('selected')) {
        $row.find('.choice.selected').removeClass('selected');
        return $choice.addClass('selected');
      } else if ($(this).hasClass('selected')) {
        return $(this).removeClass('selected');
      } else if (number_selected < max_selection) {
        return $(this).addClass('selected');
      }
    });
  });

}).call(this);

(function() {
  'use strict';
  var $;

  $ = jQuery;

  window.calculateSolutions = function() {
    var An, Class_p1, Class_p2, DS, DS_Var, P_Var, SDP, SDP_classe, SLAD, answer, best_solutions, best_table_index, best_table_solution_indexes, check_next_value, dose, index, k, max, maxIndex, parse_index, peff, question_ref, solubility, solution_array_index, table_index, table_solution_index;
    peff = window.json_result[0][0].answer;
    solubility = window.json_result[0][1].answer;
    dose = window.json_result[0][2].answer;
    table_index = 1;
    while (table_index < $(window.json_result).size()) {
      table_solution_index = 0;
      while (table_solution_index < $(window.json_result[table_index]).size()) {
        question_ref = window.json_result[table_index][table_solution_index].question_attribute;
        index = 0;
        while (index < $(window.solution_points).size()) {
          if (window.solution_points[index].question === question_ref) {
            answer = window.json_result[table_index][table_solution_index].answer_ref;
            if (answer !== "undefined") {
              parse_index = 0;
              while (parse_index < $(window.solution_array).size()) {
                switch (window.solution_points[index].choices[answer][parse_index]) {
                  case 1:
                    window.solution_array[parse_index].number_of_1s++;
                    break;
                  case 2:
                    window.solution_array[parse_index].number_of_2s++;
                    break;
                  case 3:
                    window.solution_array[parse_index].number_of_3s++;
                    break;
                  case 4:
                    window.solution_array[parse_index].number_of_4s++;
                }
                parse_index++;
              }
            }
          }
          index++;
        }
        table_solution_index++;
      }
      table_index++;
    }
    index = 0;
    while (index < window.solution_array.length) {
      if (window.solution_array[index].number_of_1s > 9) {
        window.solution_array[index].onesAdjust = 10;
      } else {
        window.solution_array[index].onesAdjust = window.solution_array[index].number_of_1s + 1;
      }
      window.solution_array[index].threeFlag80 = (10 - window.solution_array[index].number_of_3s) / 10;
      if (window.solution_array[index].number_of_4s === 0) {
        window.solution_array[index].fourFlag = 1;
      } else {
        window.solution_array[index].fourFlag = 0;
      }
      window.solution_array[index].tech_Score = (7 * window.solution_array[index].onesAdjust + 3 * window.solution_array[index].number_of_2s) * window.solution_array[index].threeFlag80 * window.solution_array[index].fourFlag * 0.1;
      index++;
    }
    if (peff < 1) {
      An = 1;
    } else {
      An = peff;
    }
    SLAD = 500 * An * solubility;
    DS = dose / solubility;
    if (DS < 500) {
      DS_Var = 1;
    } else {
      DS_Var = 0;
    }
    if (peff < 1) {
      P_Var = 0;
    } else {
      P_Var = 1;
    }
    SDP = DS_Var * 10 + P_Var;
    switch (SDP) {
      case 0:
        Class_p1 = "4";
        break;
      case 1:
        Class_p1 = "2";
        break;
      case 10:
        Class_p1 = "3";
        break;
      case 11:
        Class_p1 = "1";
    }
    if (Class_p1 === "2") {
      if (dose < SLAD) {
        Class_p2 = "A";
      } else {
        Class_p2 = "B";
      }
    } else {
      Class_p2 = "";
    }
    SDP_classe = Class_p1 + Class_p2;
    if (SDP_classe === "") {
      SDP_classe = 0;
    } else {
      switch (SDP_classe) {
        case "1":
          window.solution_array[0].dcs_Score = 1;
          window.solution_array[1].dcs_Score = 1;
          window.solution_array[3].dcs_Score = 2;
          window.solution_array[6].dcs_Score = 3;
          window.solution_array[7].dcs_Score = 3;
          window.solution_array[9].dcs_Score = 3;
          window.solution_array[11].dcs_Score = 3;
          window.solution_array[13].dcs_Score = 3;
          window.solution_array[15].dcs_Score = 3;
          window.solution_array[17].dcs_Score = 3;
          window.solution_array[19].dcs_Score = 2;
          window.solution_array[20].dcs_Score = 2;
          window.solution_array[23].dcs_Score = 3;
          window.solution_array[24].dcs_Score = 3;
          window.solution_array[25].dcs_Score = 3;
          window.solution_array[28].dcs_Score = 3;
          break;
        case "2A":
          window.solution_array[0].dcs_Score = 3;
          window.solution_array[1].dcs_Score = 2;
          window.solution_array[2].dcs_Score = 1;
          window.solution_array[3].dcs_Score = 3;
          window.solution_array[7].dcs_Score = 1;
          window.solution_array[8].dcs_Score = 3;
          window.solution_array[9].dcs_Score = 1;
          window.solution_array[10].dcs_Score = 3;
          window.solution_array[11].dcs_Score = 1;
          window.solution_array[12].dcs_Score = 3;
          window.solution_array[13].dcs_Score = 1;
          window.solution_array[14].dcs_Score = 3;
          window.solution_array[15].dcs_Score = 1;
          window.solution_array[16].dcs_Score = 3;
          window.solution_array[17].dcs_Score = 1;
          window.solution_array[18].dcs_Score = 3;
          window.solution_array[19].dcs_Score = 2;
          window.solution_array[20].dcs_Score = 2;
          window.solution_array[21].dcs_Score = 3;
          window.solution_array[24].dcs_Score = 3;
          window.solution_array[25].dcs_Score = 3;
          window.solution_array[27].dcs_Score = 2;
          break;
        case "2B":
          window.solution_array[0].dcs_Score = 3;
          window.solution_array[2].dcs_Score = 2;
          window.solution_array[5].dcs_Score = 2;
          window.solution_array[8].dcs_Score = 1;
          window.solution_array[10].dcs_Score = 1;
          window.solution_array[12].dcs_Score = 1;
          window.solution_array[14].dcs_Score = 1;
          window.solution_array[16].dcs_Score = 1;
          window.solution_array[18].dcs_Score = 1;
          window.solution_array[19].dcs_Score = 3;
          window.solution_array[20].dcs_Score = 3;
          window.solution_array[22].dcs_Score = 3;
          window.solution_array[24].dcs_Score = 2;
          window.solution_array[25].dcs_Score = 1;
          window.solution_array[27].dcs_Score = 2;
          break;
        case "3":
          window.solution_array[4].dcs_Score = 3;
          window.solution_array[26].dcs_Score = 3;
          break;
        case "4":
          window.solution_array[4].dcs_Score = 2;
          window.solution_array[26].dcs_Score = 2;
      }
    }
    index = 0;
    while (index < window.solution_array.length) {
      if (window.solution_array[index].tech_Score === 0) {
        window.solution_array[index].final_Score = 0;
      } else {
        window.solution_array[index].final_Score = (window.solution_array[index].dcs_Score * 10 + window.solution_array[index].tech_Score) / 10;
      }
      index++;
    }
    index = 0;
    while (index < window.solution_array.length) {
      index++;
    }
    best_table_solution_indexes = [0, 0, 0, 0, 0];
    best_table_index = 0;
    while (best_table_index < 5) {
      maxIndex = -1;
      max = -1;
      solution_array_index = 0;
      while (solution_array_index < window.solution_array.length) {
        if (window.solution_array[solution_array_index].final_Score > max) {
          k = 0;
          check_next_value = false;
          while (k < best_table_index) {
            if (best_table_solution_indexes[k] === solution_array_index) {
              check_next_value = true;
              break;
            }
            k++;
          }
          if (check_next_value === false) {
            maxIndex = solution_array_index;
            max = window.solution_array[solution_array_index].final_Score;
          }
        }
        solution_array_index++;
      }
      best_table_solution_indexes[best_table_index] = maxIndex;
      best_table_index++;
    }
    index = 0;
    while (index < window.solution_array.length) {
      index++;
    }
    $('#first_best_solution_name').text(window.solution_array[best_table_solution_indexes[0]].name);
    $('#second_best_solution_name').text(window.solution_array[best_table_solution_indexes[1]].name);
    $('#third_best_solution_name').text(window.solution_array[best_table_solution_indexes[2]].name);
    $('#fourth_best_solution_name').text(window.solution_array[best_table_solution_indexes[3]].name);
    $('#fifth_best_solution_name').text(window.solution_array[best_table_solution_indexes[4]].name);
    $('#first_best_solution_icon').attr('src', window.solution_array[best_table_solution_indexes[0]].icon);
    $('#second_best_solution_icon').attr('src', window.solution_array[best_table_solution_indexes[1]].icon);
    $('#third_best_solution_icon').attr('src', window.solution_array[best_table_solution_indexes[2]].icon);
    $('#fourth_best_solution_icon').attr('src', window.solution_array[best_table_solution_indexes[3]].icon);
    $('#fifth_best_solution_icon').attr('src', window.solution_array[best_table_solution_indexes[4]].icon);
    $('#first_best_solution_link').attr('href', window.solution_array[best_table_solution_indexes[0]].link);
    $('#second_best_solution_link').attr('href', window.solution_array[best_table_solution_indexes[1]].link);
    $('#third_best_solution_link').attr('href', window.solution_array[best_table_solution_indexes[2]].link);
    $('#fourth_best_solution_link').attr('href', window.solution_array[best_table_solution_indexes[3]].link);
    $('#fifth_best_solution_link').attr('href', window.solution_array[best_table_solution_indexes[4]].link);
    $('#first_best_solution_text').text(window.solution_array[best_table_solution_indexes[0]].text);
    $('#second_best_solution_text').text(window.solution_array[best_table_solution_indexes[1]].text);
    $('#third_best_solution_text').text(window.solution_array[best_table_solution_indexes[2]].text);
    $('#fourth_best_solution_text').text(window.solution_array[best_table_solution_indexes[3]].text);
    $('#fifth_best_solution_text').text(window.solution_array[best_table_solution_indexes[4]].text);
    best_solutions = [$('#first_best_solution_name'), $('#second_best_solution_name'), $('#third_best_solution_name'), $('#fourth_best_solution_name'), $('#fifth_best_solution_name')];
    return $.each(best_solutions, function(index, $value) {
      if (window.solution_array[best_table_solution_indexes[index]].final_Score >= 2) {
        return $(this).parents('.accordion-best-results').show();
      }
    });
  };

}).call(this);


(function() {

    'use strict';
    var $;

    $ = jQuery;

    $(document).ready(function() {

        $('a.get-started').on('click', function(event) {
            track_view('Start-Page');
        });

        $('#page1-next').on('click', function(event){
            track_view('Step-1');
        });
        $('#page2-next').on('click', function(event){
            track_view('Step-2');
        });
        $('#page3-next').on('click', function(event){
            track_view('Step-3');
        });
        $('#page4-next').on('click', function(event){
            track_view('Step-4');
        });
        $('#page5-next').on('click', function(event){
            track_view('Step-5');
        });

        $( "#submit_form_trigger_button" ).click(function() {
              $( "#result_button_long" ).submit();
            });

        $('#result_button_long,  #result_button_short').on('click', function(event){
            track_view('Form-Submit');
        });

    });

    function track_view(source){
        if (typeof(dataLayer) !== 'undefined') {
              dataLayer.push({ "optiFormPro": source });
        }
        if (typeof(ga) !== 'undefined') {
            ga('set', 'page', source);
            ga('send', 'pageview');
        }
    }

}).call(this);
